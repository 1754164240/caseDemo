# åŸºäºAIåŒ¹é…æ¨¡æ¿ç”Ÿæˆç”¨ä¾‹å’Œæ˜ç»† v1.3.2

**æ—¥æœŸ**: 2024-12-16  
**ç‰ˆæœ¬**: v1.3.2  
**æ›´æ–°ç±»å‹**: åŠŸèƒ½å®Œå–„ - ç”¨ä¾‹ç”Ÿæˆ

---

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

å®ç°äº†åŸºäºAIåŒ¹é…çš„ç”¨ä¾‹æ¨¡æ¿ï¼Œè‡ªåŠ¨åˆ›å»ºè‡ªåŠ¨åŒ–ç”¨ä¾‹å¹¶å¤åˆ¶ç”¨ä¾‹æ˜ç»†çš„å®Œæ•´åŠŸèƒ½ã€‚

### å®Œæ•´æµç¨‹

```
æµ‹è¯•ç”¨ä¾‹
   â†“
1. åŒ¹é…åœºæ™¯
   â†“
2. è·å–åœºæ™¯ä¸‹çš„ç”¨ä¾‹åˆ—è¡¨
   â†“
3. AIé€‰æ‹©æœ€ä½³åŒ¹é…æ¨¡æ¿
   â†“
4. è·å–æ¨¡æ¿ç”¨ä¾‹è¯¦æƒ…
   â†“
5. åŸºäºæ¨¡æ¿åˆ›å»ºæ–°ç”¨ä¾‹
   â†“
6. å¤åˆ¶ç”¨ä¾‹æ˜ç»†åˆ°æ–°ç”¨ä¾‹
   â†“
âœ… å®Œæ•´çš„è‡ªåŠ¨åŒ–ç”¨ä¾‹
```

---

## ğŸ†• æ–°å¢åŠŸèƒ½

### 1. ç”¨ä¾‹æ˜ç»†å¤åˆ¶ API

**æ–¹æ³•**: `copy_case_detail()`

```python
def copy_case_detail(
    self, 
    source_usercase_id: str, 
    target_usercase_id: str
) -> Dict[str, Any]:
    """
    å¤åˆ¶ç”¨ä¾‹æ˜ç»†ï¼ˆä»æ¨¡æ¿ç”¨ä¾‹å¤åˆ¶åˆ°æ–°åˆ›å»ºçš„ç”¨ä¾‹ï¼‰
    
    Args:
        source_usercase_id: æºç”¨ä¾‹IDï¼ˆæ¨¡æ¿ï¼‰
        target_usercase_id: ç›®æ ‡ç”¨ä¾‹IDï¼ˆæ–°åˆ›å»ºçš„ï¼‰
        
    Returns:
        å¤åˆ¶ç»“æœ
    """
    url = f"{self.base_url}/ai/case/copyCaseDetail"
    
    payload = {
        "sourceUsercaseId": source_usercase_id,
        "targetUsercaseId": target_usercase_id
    }
    
    # è°ƒç”¨APIå¤åˆ¶æ˜ç»†...
```

**ç‰¹ç‚¹**:
- âœ… è‡ªåŠ¨å¤åˆ¶æ‰€æœ‰å­—æ®µé…ç½®
- âœ… å¤åˆ¶ caseDefine ç»“æ„
- âœ… å¤±è´¥ä¸å½±å“ä¸»æµç¨‹ï¼ˆé™çº§ä¿æŠ¤ï¼‰

### 2. å¢å¼ºçš„ç”¨ä¾‹åˆ›å»ºæµç¨‹

**æ›´æ–°åçš„ `create_case_with_fields` æ–¹æ³•**:

```python
def create_case_with_fields(...) -> Dict[str, Any]:
    """åŸºäºAIåŒ¹é…çš„æ¨¡æ¿åˆ›å»ºè‡ªåŠ¨åŒ–ç”¨ä¾‹å’Œæ˜ç»†"""
    
    # æ­¥éª¤1-3: AIåŒ¹é…ï¼ˆä¿æŒä¸å˜ï¼‰
    scene_cases = self.get_scene_cases(scene_id)
    selected_case = self.select_best_case_by_ai(test_case_info, scene_cases)
    case_detail = self.get_case_detail(selected_usercase_id)
    
    # æ­¥éª¤4: æå–æ¨¡æ¿ä¿¡æ¯
    circulation = selected_case.get('circulation', [])
    
    # å‡†å¤‡tagsï¼ˆåŒ…å«ç¯èŠ‚ä¿¡æ¯ï¼‰
    tags_data = []
    if circulation:
        for circ in circulation:
            tags_data.append(f"{circ.get('name', '')}({circ.get('vargroup', '')})")
    
    # æ­¥éª¤5: åˆ›å»ºæ–°ç”¨ä¾‹
    case_data = self.create_case(
        name=name,
        module_id=module_id,
        scene_id=scene_id,
        scenario_type=scenario_type,
        description=description,
        tags=json.dumps(tags_data, ensure_ascii=False)
    )
    
    # æ­¥éª¤6: å¤åˆ¶ç”¨ä¾‹æ˜ç»†
    copy_result = self.copy_case_detail(
        selected_usercase_id, 
        new_usercase_id
    )
    
    return {
        "created_case": case_data,           # æ–°åˆ›å»ºçš„ç”¨ä¾‹
        "template_case": selected_case,      # ä½¿ç”¨çš„æ¨¡æ¿
        "case_detail": case_detail,          # æ¨¡æ¿è¯¦æƒ…
        "fields": fields_data,               # å­—æ®µä¿¡æ¯
        "copy_detail_result": copy_result,   # å¤åˆ¶ç»“æœ
        "new_usercase_id": new_usercase_id,  # æ–°ç”¨ä¾‹ID
        "template_usercase_id": selected_usercase_id  # æ¨¡æ¿ID
    }
```

---

## ğŸ“ æ ¸å¿ƒæ”¹è¿›

### 1. æ™ºèƒ½æ ‡ç­¾ç”Ÿæˆ

ä»æ¨¡æ¿çš„ circulation ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾ï¼š

```python
# æ¨¡æ¿ circulation:
[
    {"num": 2, "name": "ç†èµ”", "vargroup": "CP"}
]

# ç”Ÿæˆçš„ tags:
["ç†èµ”(CP)"]
```

### 2. å®Œæ•´çš„æ•°æ®æµ

```
æ¨¡æ¿ç”¨ä¾‹
  â”œâ”€ name â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ å‚è€ƒ
  â”œâ”€ description â”€â”€â”€â”€â”€â†’ å‚è€ƒ
  â”œâ”€ circulation â”€â”€â”€â”€â”€â†’ è½¬æ¢ä¸º tags
  â”œâ”€ caseDefine â”€â”€â”€â”€â”€â”€â†’ é€šè¿‡APIå¤åˆ¶
  â”‚   â”œâ”€ header â”€â”€â”€â”€â”€â”€â†’ å­—æ®µé…ç½®
  â”‚   â””â”€ body â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ•°æ®
  â””â”€ usercaseId â”€â”€â”€â”€â”€â”€â†’ source ID

æ–°ç”¨ä¾‹
  â”œâ”€ name â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ¥è‡ªæµ‹è¯•ç”¨ä¾‹
  â”œâ”€ description â”€â”€â”€â”€â†’ æ¥è‡ªæµ‹è¯•ç”¨ä¾‹
  â”œâ”€ tags â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ¥è‡ªæ¨¡æ¿ circulation
  â”œâ”€ moduleId â”€â”€â”€â”€â”€â”€â”€â†’ ç³»ç»Ÿé…ç½®
  â”œâ”€ sceneId â”€â”€â”€â”€â”€â”€â”€â”€â†’ åŒ¹é…çš„åœºæ™¯
  â””â”€ caseDefine â”€â”€â”€â”€â”€â†’ ä»æ¨¡æ¿å¤åˆ¶
```

---

## ğŸ¨ å‰ç«¯å±•ç¤ºå¢å¼º

### æ–°çš„æˆåŠŸå¯¹è¯æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‰ è‡ªåŠ¨åŒ–ç”¨ä¾‹åˆ›å»ºæˆåŠŸ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æµ‹è¯•ç”¨ä¾‹ï¼šTC001 - ç†èµ”æµç¨‹æµ‹è¯•                      â”‚
â”‚ åŒ¹é…åœºæ™¯ï¼š[SC001] ç†èµ”åœºæ™¯                         â”‚
â”‚                                                     â”‚
â”‚ ğŸ¤– AIé€‰æ‹©çš„æœ€ä½³ç”¨ä¾‹æ¨¡æ¿ï¼š                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ç”¨ä¾‹IDï¼š[8e8dbf87...]                       â”‚    â”‚
â”‚ â”‚ ç”¨ä¾‹åç§°ï¼šBANTBCèº«æ•…ç†èµ”è®¡ç®—                â”‚    â”‚
â”‚ â”‚ ç”¨ä¾‹æè¿°ï¼šåœ¨ç†èµ”å®¡æ ¸ç¯èŠ‚...                 â”‚    â”‚
â”‚ â”‚ ç¯èŠ‚ä¿¡æ¯ï¼š[ç†èµ” (CP)]                      â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚
â”‚ âœ… æ–°åˆ›å»ºçš„è‡ªåŠ¨åŒ–ç”¨ä¾‹ï¼š                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ç”¨ä¾‹IDï¼š[8dba1192...]              âœ…       â”‚    â”‚
â”‚ â”‚ ç”¨ä¾‹ç¼–å·ï¼š18880                             â”‚    â”‚
â”‚ â”‚ ç”¨ä¾‹åç§°ï¼šæµ‹è¯•ç”¨ä¾‹åç§°                      â”‚    â”‚
â”‚ â”‚ åˆ›å»ºäººï¼šadmin                               â”‚    â”‚
â”‚ â”‚ åˆ›å»ºæ—¶é—´ï¼š2024-12-16 15:30:00              â”‚    â”‚
â”‚ â”‚ æ ‡ç­¾ï¼š[ç†èµ”(CP)]                           â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚
â”‚ ğŸ“‹ ç”¨ä¾‹å­—æ®µå‚æ•°ï¼ˆå·²å¤åˆ¶åˆ°æ–°ç”¨ä¾‹ï¼‰ï¼š                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ç†èµ”_å‡ºé™©åŸå›                                â”‚    â”‚
â”‚ â”‚ å­—æ®µå: CP_accidentReason                   â”‚    â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ â”‚ ç†èµ”_æ„å¤–åŸå›                                â”‚    â”‚
â”‚ â”‚ å­—æ®µå: CP_AcdntDtlECD                      â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚
â”‚ âœ¨ åˆ›å»ºæµç¨‹ï¼š                                      â”‚
â”‚ 1ï¸âƒ£ AIåˆ†æå¹¶é€‰æ‹©æœ€ä½³æ¨¡æ¿                           â”‚
â”‚ 2ï¸âƒ£ åŸºäºæ¨¡æ¿åˆ›å»ºæ–°ç”¨ä¾‹                             â”‚
â”‚ 3ï¸âƒ£ è‡ªåŠ¨å¤åˆ¶ç”¨ä¾‹æ˜ç»†å’Œå­—æ®µé…ç½®                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ˜¾ç¤ºå†…å®¹

**æ¨¡æ¿ä¿¡æ¯:**
- æ¨¡æ¿ç”¨ä¾‹ID
- æ¨¡æ¿åç§°å’Œæè¿°
- ç¯èŠ‚ä¿¡æ¯ï¼ˆcirculationï¼‰

**æ–°ç”¨ä¾‹ä¿¡æ¯:**
- æ–°åˆ›å»ºçš„ç”¨ä¾‹ID
- ç”¨ä¾‹ç¼–å·
- ç”¨ä¾‹åç§°
- åˆ›å»ºäººå’Œåˆ›å»ºæ—¶é—´
- æ ‡ç­¾ï¼ˆä»circulationç”Ÿæˆï¼‰

**å­—æ®µå‚æ•°:**
- æ˜¾ç¤ºæ‰€æœ‰å·²å¤åˆ¶çš„å­—æ®µ
- å­—æ®µåã€ç±»å‹ã€æ ‡è¯†ç­‰è¯¦ç»†ä¿¡æ¯

---

## ğŸ”§ æŠ€æœ¯å®ç°

### åç«¯å˜æ›´

#### 1. `automation_service.py`

**æ–°å¢æ–¹æ³•:**
```python
def copy_case_detail(
    self, 
    source_usercase_id: str, 
    target_usercase_id: str
) -> Dict[str, Any]
```

**æ›´æ–°æ–¹æ³•:**
```python
def create_case_with_fields(...)
    # æ–°å¢æ­¥éª¤5: åˆ›å»ºç”¨ä¾‹
    case_data = self.create_case(...)
    
    # æ–°å¢æ­¥éª¤6: å¤åˆ¶æ˜ç»†
    copy_result = self.copy_case_detail(...)
```

#### 2. `test_cases.py`

**æ›´æ–°è¿”å›æ•°æ®:**
```python
return {
    "success": True,
    "message": "AIæ™ºèƒ½åŒ¹é…å¹¶æˆåŠŸåˆ›å»ºè‡ªåŠ¨åŒ–ç”¨ä¾‹",
    "data": {
        "created_case": result.get("created_case", {}),
        "template_case": result.get("template_case", {}),
        "new_usercase_id": result.get("new_usercase_id"),
        "template_usercase_id": result.get("template_usercase_id"),
        "copy_detail_result": result.get("copy_detail_result", {}),
        # ...
    }
}
```

### å‰ç«¯å˜æ›´

#### `TestCases.tsx`

**æ›´æ–°æ ‡é¢˜å’Œæç¤º:**
```typescript
message.loading({ 
  content: 'æ­£åœ¨è¿›è¡ŒAIæ™ºèƒ½åŒ¹é…å¹¶åˆ›å»ºç”¨ä¾‹...', 
  key: 'generateAuto' 
})

Modal.success({
  title: 'ğŸ‰ è‡ªåŠ¨åŒ–ç”¨ä¾‹åˆ›å»ºæˆåŠŸ',
  width: 900,
  // ...
})
```

**æ–°å¢æ˜¾ç¤ºåŒºå—:**
```typescript
{result.data.created_case && (
  <div>
    <h4>âœ… æ–°åˆ›å»ºçš„è‡ªåŠ¨åŒ–ç”¨ä¾‹ï¼š</h4>
    <Descriptions>
      <Item label="ç”¨ä¾‹ID">{new_usercase_id}</Item>
      <Item label="ç”¨ä¾‹ç¼–å·">{created_case.num}</Item>
      <Item label="ç”¨ä¾‹åç§°">{created_case.name}</Item>
      <Item label="åˆ›å»ºäºº">{created_case.createBy}</Item>
      <Item label="åˆ›å»ºæ—¶é—´">{createTime}</Item>
      <Item label="æ ‡ç­¾">{tags}</Item>
    </Descriptions>
  </div>
)}
```

---

## ğŸ”„ APIè°ƒç”¨æµç¨‹

### å®Œæ•´çš„APIè°ƒç”¨åºåˆ—

```
1. GET /ai/case/queryBySceneId/{scene_id}
   â†“
   è·å–åœºæ™¯ä¸‹çš„ç”¨ä¾‹åˆ—è¡¨

2. AIå†…éƒ¨å¤„ç†
   â†“
   åˆ†æå¹¶é€‰æ‹©æœ€ä½³æ¨¡æ¿

3. GET /ai/case/queryCaseBody/{usercase_id}
   â†“
   è·å–æ¨¡æ¿ç”¨ä¾‹è¯¦æƒ…

4. POST /usercase/case/addCase
   â†“
   åˆ›å»ºæ–°ç”¨ä¾‹
   Payload: {
     name, moduleId, sceneId,
     tags: ["ç†èµ”(CP)"],
     scenarioType: "API"
   }

5. POST /ai/case/copyCaseDetail
   â†“
   å¤åˆ¶ç”¨ä¾‹æ˜ç»†
   Payload: {
     sourceUsercaseId: "æ¨¡æ¿ID",
     targetUsercaseId: "æ–°ç”¨ä¾‹ID"
   }

6. è¿”å›å®Œæ•´ç»“æœ
   â†“
   created_case, template_case, fields...
```

---

## ğŸ“Š æ•°æ®ç»“æ„

### è¿”å›æ•°æ®ç¤ºä¾‹

```json
{
  "success": true,
  "message": "AIæ™ºèƒ½åŒ¹é…å¹¶æˆåŠŸåˆ›å»ºè‡ªåŠ¨åŒ–ç”¨ä¾‹",
  "data": {
    "test_case": {
      "id": 123,
      "code": "TC001",
      "title": "ç†èµ”æµç¨‹æµ‹è¯•"
    },
    "matched_scenario": {
      "id": 1,
      "scenario_code": "SC001",
      "name": "ç†èµ”åœºæ™¯"
    },
    "selected_template": {
      "usercaseId": "8e8dbf87-282c-48ae-9611-8a7c5f4c239e",
      "name": "BANTBCèº«æ•…ç†èµ”è®¡ç®—",
      "description": "åœ¨ç†èµ”å®¡æ ¸ç¯èŠ‚...",
      "circulation": [
        {"num": 2, "name": "ç†èµ”", "vargroup": "CP"}
      ]
    },
    "created_case": {
      "usercaseId": "8dba1192-7f86-420a-b69e-8e00d06db36a",
      "num": 18880,
      "name": "æµ‹è¯•ç”¨ä¾‹åç§°",
      "createBy": "admin",
      "createTime": 1765876295618,
      "tags": "[\"ç†èµ”(CP)\"]",
      "sceneId": "7fb31238-92df-377a-8ea7-9b437be47710",
      "moduleId": "a7f94755-b7c6-42ba-ba12-9026d9760cf5"
    },
    "supported_fields": [
      {
        "row": "CP_accidentReason",
        "rowName": "ç†èµ”_å‡ºé™©åŸå› ",
        "type": "",
        "flag": null
      },
      // ...
    ],
    "new_usercase_id": "8dba1192-7f86-420a-b69e-8e00d06db36a",
    "template_usercase_id": "8e8dbf87-282c-48ae-9611-8a7c5f4c239e",
    "scene_id": "7fb31238-92df-377a-8ea7-9b437be47710"
  }
}
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å¤åˆ¶æ˜ç»†å¤±è´¥å¤„ç†

```python
try:
    copy_result = self.copy_case_detail(source_id, target_id)
except Exception as e:
    print(f"[WARNING] å¤åˆ¶ç”¨ä¾‹æ˜ç»†å¤±è´¥: {e}")
    # ä¸å½±å“ä¸»æµç¨‹ï¼Œç»§ç»­è¿”å›
    copy_result = {}
```

**é™çº§ç­–ç•¥:**
- å¤åˆ¶å¤±è´¥ä¸ä¼šå¯¼è‡´ç”¨ä¾‹åˆ›å»ºå¤±è´¥
- è¿”å›ç©ºçš„ copy_result
- ç”¨ä¾‹ä»ç„¶å¯ç”¨ï¼Œä½†éœ€è¦æ‰‹åŠ¨é…ç½®å­—æ®µ

### 2. Tags æ ¼å¼

```python
# æ­£ç¡®æ ¼å¼
tags = json.dumps(["ç†èµ”(CP)", "å®¡æ ¸"], ensure_ascii=False)
# ç»“æœ: "[\"ç†èµ”(CP)\", \"å®¡æ ¸\"]"

# ç©ºtags
tags = "[]"
```

### 3. Circulation ä¿¡æ¯æå–

```python
circulation = selected_case.get('circulation', [])
if circulation:
    for circ in circulation:
        name = circ.get('name', '')
        vargroup = circ.get('vargroup', '')
        tags_data.append(f"{name}({vargroup})")
```

---

## ğŸš€ ä½¿ç”¨æµç¨‹

### 1. é…ç½®ç³»ç»Ÿ

ç¡®ä¿ç³»ç»Ÿé…ç½®ä¸­å·²è®¾ç½®ï¼š
- è‡ªåŠ¨åŒ–å¹³å°APIåœ°å€
- é»˜è®¤æ¨¡å—ID

### 2. åˆ›å»ºåœºæ™¯

åœ¨åœºæ™¯ç®¡ç†ä¸­åˆ›å»ºç›¸å…³åœºæ™¯ï¼Œè®¾ç½®åœºæ™¯ç¼–å·ï¼ˆscene_idï¼‰

### 3. åˆ›å»ºæµ‹è¯•ç”¨ä¾‹

æŒ‰æ­£å¸¸æµç¨‹åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼Œå¡«å†™è¯¦ç»†ä¿¡æ¯

### 4. ç”Ÿæˆè‡ªåŠ¨åŒ–ç”¨ä¾‹

1. åœ¨æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨ä¸­æ‰¾åˆ°ç›®æ ‡ç”¨ä¾‹
2. ç‚¹å‡»æ“ä½œåˆ—çš„"è‡ªåŠ¨åŒ–"æŒ‰é’®
3. ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œï¼š
   - AIåŒ¹é…æœ€ä½³æ¨¡æ¿
   - åˆ›å»ºæ–°ç”¨ä¾‹
   - å¤åˆ¶ç”¨ä¾‹æ˜ç»†
4. æŸ¥çœ‹æˆåŠŸå¯¹è¯æ¡†ï¼Œç¡®è®¤åˆ›å»ºç»“æœ

### 5. éªŒè¯ç»“æœ

- æ£€æŸ¥æ–°ç”¨ä¾‹ID
- ç¡®è®¤æ ‡ç­¾å·²æ­£ç¡®è®¾ç½®
- éªŒè¯å­—æ®µå‚æ•°å·²å¤åˆ¶

---

## ğŸ“ˆ æ•ˆæœå¯¹æ¯”

| æŒ‡æ ‡ | v1.3.1ï¼ˆä»…åŒ¹é…ï¼‰ | v1.3.2ï¼ˆå®Œæ•´ç”Ÿæˆï¼‰ | æå‡ |
|-----|-----------------|-------------------|------|
| ç”¨ä¾‹åˆ›å»º | âŒ éœ€æ‰‹åŠ¨ | âœ… è‡ªåŠ¨ | 100% |
| å­—æ®µé…ç½® | âŒ éœ€æ‰‹åŠ¨ | âœ… è‡ªåŠ¨å¤åˆ¶ | 100% |
| æ ‡ç­¾è®¾ç½® | âŒ éœ€æ‰‹åŠ¨ | âœ… è‡ªåŠ¨ç”Ÿæˆ | 100% |
| å®Œæ•´å¯ç”¨ | âŒ å¦ | âœ… æ˜¯ | â†‘ |
| æ“ä½œæ­¥éª¤ | å¤šæ­¥ | ä¸€é”® | â†“ 80% |

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1: å¤åˆ¶æ˜ç»†å¤±è´¥

**ç°è±¡**: ç”¨ä¾‹åˆ›å»ºæˆåŠŸï¼Œä½†å­—æ®µä¸ºç©º

**åŸå› **: 
- å¤åˆ¶APIè°ƒç”¨å¤±è´¥
- æºç”¨ä¾‹IDä¸å­˜åœ¨
- ç½‘ç»œé—®é¢˜

**è§£å†³**:
```python
# æ£€æŸ¥æ—¥å¿—
[WARNING] å¤åˆ¶ç”¨ä¾‹æ˜ç»†å¤±è´¥: ...

# æ‰‹åŠ¨å¤åˆ¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
POST /ai/case/copyCaseDetail
{
  "sourceUsercaseId": "æ¨¡æ¿ID",
  "targetUsercaseId": "æ–°ç”¨ä¾‹ID"
}
```

### é—®é¢˜2: Tags æ ¼å¼é”™è¯¯

**ç°è±¡**: æ ‡ç­¾æ˜¾ç¤ºå¼‚å¸¸

**åŸå› **: JSONæ ¼å¼ä¸æ­£ç¡®

**è§£å†³**:
```python
# ç¡®ä¿ä½¿ç”¨ json.dumps
tags = json.dumps(tags_data, ensure_ascii=False)

# è€Œä¸æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥
tags = str(tags_data)  # âŒ é”™è¯¯
```

### é—®é¢˜3: Circulation ä¸ºç©º

**ç°è±¡**: æ ‡ç­¾ä¸ºç©º

**åŸå› **: æ¨¡æ¿ç”¨ä¾‹æ²¡æœ‰circulationä¿¡æ¯

**è§£å†³**:
- æ­£å¸¸æƒ…å†µï¼Œéƒ¨åˆ†ç”¨ä¾‹å¯èƒ½æ²¡æœ‰circulation
- ä¸å½±å“åŠŸèƒ½ï¼Œåªæ˜¯æ²¡æœ‰æ ‡ç­¾

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **[AIæ™ºèƒ½æ¨¡æ¿åŒ¹é…](./AI_TEMPLATE_MATCHING.md)** - AIåŒ¹é…è¯¦è§£
- **[v1.3.1 æ›´æ–°è¯´æ˜](./AI_MATCHING_UPDATE_v1.3.1.md)** - åŒ¹é…åŠŸèƒ½
- **[è‡ªåŠ¨åŒ–å¹³å°é›†æˆ](./AUTOMATION_PLATFORM_INTEGRATION.md)** - å¹³å°é›†æˆ
- **[æ–‡æ¡£ç´¢å¼•](./DOCUMENTATION_INDEX.md)** - å®Œæ•´æ–‡æ¡£

---

**ç‰ˆæœ¬**: v1.3.2  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**æµ‹è¯•**: å¾…éªŒè¯  
**å…¼å®¹æ€§**: 100%å‘åå…¼å®¹  
**é‡è¦æ€§**: é«˜ - å®Œæ•´åŠŸèƒ½å®ç°





