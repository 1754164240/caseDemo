# 鏅鸿兘娴嬭瘯鐢ㄤ緥骞冲彴锛堜繚闄╄涓氾級

## 骞冲彴绠€浠?

鏅鸿兘娴嬭瘯鐢ㄤ緥骞冲彴鏄竴涓熀浜?AI 鐨勮嚜鍔ㄥ寲娴嬭瘯鐢ㄤ緥鐢熸垚绯荤粺锛屼笓涓轰繚闄╄涓氳璁°€傜敤鎴峰彲浠ヤ笂浼犻渶姹傛枃妗ｏ紝绯荤粺浼氳嚜鍔ㄨ瘑鍒祴璇曠偣骞剁敓鎴愯缁嗙殑娴嬭瘯鐢ㄤ緥锛屽ぇ骞呮彁鍗囨祴璇曞伐浣滄晥鐜囥€?

### 鏍稿績鍔熻兘 

- 馃搫 **闇€姹傛枃妗ｄ笂浼?*锛氭敮鎸?DOCX銆丳DF銆乀XT銆乆LS銆乆LSX 绛夊绉嶆牸寮?
- 馃 **AI 鏅鸿兘璇嗗埆**锛氫娇鐢?LangGraph 鍜?LangChain 鑷姩璇嗗埆娴嬭瘯鐐?
- 馃 **鏂囨。鍚戦噺鍖?*锛氱鍩烘祦鍔?BAAI/bge-large-zh-v1.5 鑷姩鍒囧垎宓屽叆骞跺啓鍏?Milvus
- 鉁?**娴嬭瘯鐢ㄤ緥鐢熸垚**锛氬熀浜庢祴璇曠偣鑷姩鐢熸垚璇︾粏鐨勬祴璇曠敤渚?
- 馃挰 **鍙嶉浼樺寲**锛氭敮鎸佺敤鎴峰弽棣堬紝AI 鏍规嵁鍙嶉閲嶆柊鐢熸垚
- 馃敂 **瀹炴椂閫氱煡**锛歐ebSocket 瀹炴椂鎺ㄩ€佺敓鎴愯繘搴﹀拰缁撴灉
- 馃搳 **鏁版嵁缁熻**锛氶椤靛睍绀洪渶姹傛暟銆佹祴璇曠偣鏁般€佺敤渚嬫暟绛夊叧閿寚鏍?

## 鎶€鏈灦鏋?

### 鍚庣鎶€鏈爤
- **FastAPI** - 鐜颁唬鍖栫殑 Python Web 妗嗘灦
- **LangGraph 1.0.2** - AI 宸ヤ綔娴佺紪鎺掓鏋?
- **LangChain 1.0.2** - LLM 搴旂敤寮€鍙戞鏋?
- **OpenAI 1.x** - OpenAI API 瀹㈡埛绔?
- **PostgreSQL** - 鍏崇郴鍨嬫暟鎹簱
- **Milvus** - 鍚戦噺鏁版嵁搴擄紙鐭ヨ瘑搴擄級
- **SQLAlchemy** - Python ORM
- **WebSocket** - 瀹炴椂閫氫俊

### 鍓嶇鎶€鏈爤
- **React 18** - UI 妗嗘灦
- **TypeScript** - 绫诲瀷瀹夊叏
- **Vite** - 鏋勫缓宸ュ叿
- **Ant Design 5** - UI 缁勪欢搴?
- **Zustand** - 鐘舵€佺鐞?
- **Axios** - HTTP 瀹㈡埛绔?

## 涓氬姟妯″潡

### 1. 棣栭〉锛圖ashboard锛?
- 灞曠ず闇€姹傛€绘暟
- 灞曠ず娴嬭瘯鐐规€绘暟
- 灞曠ず娴嬭瘯鐢ㄤ緥鎬绘暟
- 鏄剧ず褰撳墠浣跨敤鐨?AI 妯″瀷
- 灞曠ず鏈€杩戜笂浼犵殑闇€姹傚垪琛?

### 2. 闇€姹傜鐞?
- 涓婁紶闇€姹傛枃妗ｏ紙鏀寔 DOCX銆丳DF銆乀XT銆乆LS銆乆LSX锛?
- 闇€姹傚垪琛ㄥ睍绀猴紙鏍囬銆佺姸鎬併€佹枃浠剁被鍨嬨€佹祴璇曠偣鏁般€佺敤渚嬫暟锛?
- 闇€姹傝鎯呮煡鐪?
- 闇€姹傛枃妗ｉ瑙?
- 闇€姹傚垹闄?

### 3. 鐢ㄤ緥绠＄悊
- **娴嬭瘯鐐圭鐞?*
  - 鏌ョ湅鎵€鏈夋祴璇曠偣
  - 鎸夐渶姹傜瓫閫夋祴璇曠偣
  - 娴嬭瘯鐐硅鎯咃紙鏍囬銆佹弿杩般€佸垎绫汇€佷紭鍏堢骇锛?
  - 鎻愪氦鍙嶉鎰忚
  - 鐢熸垚娴嬭瘯鐢ㄤ緥
  - 鍒犻櫎娴嬭瘯鐐?

- **娴嬭瘯鐢ㄤ緥绠＄悊**
  - 鏌ョ湅鎵€鏈夋祴璇曠敤渚?
  - 娴嬭瘯鐢ㄤ緥璇︽儏锛堟爣棰樸€佹弿杩般€佸墠缃潯浠躲€佹祴璇曟楠ゃ€侀鏈熺粨鏋滐級
  - 缂栬緫娴嬭瘯鐢ㄤ緥
  - 鍒犻櫎娴嬭瘯鐢ㄤ緥

### 4. 绯荤粺绠＄悊
- **Milvus 閰嶇疆**锛氶厤缃悜閲忔暟鎹簱杩炴帴鍙傛暟
- **妯″瀷閰嶇疆**锛氶厤缃?AI 妯″瀷锛圓PI Key銆佹ā鍨嬪悕绉般€丄PI Base锛?
- **鐢ㄦ埛绠＄悊**锛氱鐞嗙郴缁熺敤鎴凤紙寮€鍙戜腑锛?

### 5. 瀹炴椂閫氱煡
- 娴嬭瘯鐐圭敓鎴愬畬鎴愰€氱煡锛圵ebSocket锛?
- 娴嬭瘯鐢ㄤ緥鐢熸垚瀹屾垚閫氱煡锛圵ebSocket锛?
- 杩涘害鏇存柊瀹炴椂鎺ㄩ€?

## 蹇€熷紑濮?

### 鐜瑕佹眰
- Python 3.10+
- Node.js 18+
- Docker & Docker Compose
- PostgreSQL 15
- Milvus 2.3+

### 瀹夎姝ラ

#### 1. 鍚姩鏁版嵁搴撴湇鍔?

```bash
docker-compose up -d
```

#### 2. 瀹夎鍚庣渚濊禆

Windows:
```bash
bat\install-backend.bat
```

鎴栨墜鍔ㄥ畨瑁?
```bash
cd backend
pip install -r requirements.txt
```

#### 3. 閰嶇疆鐜鍙橀噺

澶嶅埗 `backend/.env.example` 涓?`backend/.env`锛屽苟閰嶇疆锛?

```env
# 蹇呴』閰嶇疆 OpenAI API Key
OPENAI_API_KEY=your_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1
MODEL_NAME=gpt-4

# 鏁版嵁搴撻厤缃紙浣跨敤 psycopg 椹卞姩锛?
DATABASE_URL=postgresql+psycopg://testcase:testcase123@localhost:5432/test_case_db

# Milvus 閰嶇疆
MILVUS_HOST=localhost
MILVUS_PORT=19530

# 纭呭熀娴佸姩宓屽叆閰嶇疆
EMBEDDING_API_KEY=your_EMBEDDING_API_KEY_here
EMBEDDING_API_BASE=https://api.siliconflow.cn/v1
EMBEDDING_MODEL=BAAI/bge-large-zh-v1.5
DOCUMENT_CHUNK_SIZE=500
DOCUMENT_CHUNK_OVERLAP=100
EMBEDDING_BATCH_SIZE=16
```

> **娉ㄦ剰**: 濡傛灉浣跨敤 Python 3.13锛岃纭繚鏁版嵁搴?URL 浣跨敤 `postgresql+psycopg://` 鏍煎紡

#### 4. 鍚姩鍚庣鏈嶅姟

Windows:
```bash
bat\start-backend.bat
```

鎴栨墜鍔ㄥ惎鍔?
```bash
cd backend
python main.py
```

鍚庣鏈嶅姟锛歨ttp://localhost:8000
API 鏂囨。锛歨ttp://localhost:8000/docs

#### 5. 瀹夎鍓嶇渚濊禆

Windows:
```bash
bat\install-frontend.bat
```

鎴栨墜鍔ㄥ畨瑁?
```bash
cd frontend
npm install
```

#### 6. 鍚姩鍓嶇鏈嶅姟

Windows:
```bash
bat\start-frontend.bat
```

鎴栨墜鍔ㄥ惎鍔?
```bash
cd frontend
npm run dev
```

鍓嶇鏈嶅姟锛歨ttp://localhost:5173

## 浣跨敤鎸囧崡

### 1. 娉ㄥ唽鍜岀櫥褰?
- 璁块棶 http://localhost:5173
- 鐐瑰嚮"娉ㄥ唽"鍒涘缓璐﹀彿
- 浣跨敤璐﹀彿鐧诲綍绯荤粺

### 2. 涓婁紶闇€姹傛枃妗?
- 杩涘叆"闇€姹傜鐞?椤甸潰
- 鐐瑰嚮"涓婁紶闇€姹?
- 濉啓闇€姹備俊鎭苟閫夋嫨鏂囨。
- 绯荤粺鑷姩瑙ｆ瀽骞剁敓鎴愭祴璇曠偣

### 3. 绠＄悊娴嬭瘯鐐?
- 杩涘叆"鐢ㄤ緥绠＄悊" 鈫?"娴嬭瘯鐐?
- 鏌ョ湅 AI 鐢熸垚鐨勬祴璇曠偣
- 鍙互鎻愪氦鍙嶉璁?AI 閲嶆柊鐢熸垚
- 鐐瑰嚮"鐢熸垚鐢ㄤ緥"鍒涘缓娴嬭瘯鐢ㄤ緥

### 4. 鏌ョ湅娴嬭瘯鐢ㄤ緥
- 杩涘叆"鐢ㄤ緥绠＄悊" 鈫?"娴嬭瘯鐢ㄤ緥"
- 鏌ョ湅璇︾粏鐨勬祴璇曠敤渚?
- 鍙互缂栬緫鍜屽垹闄ょ敤渚?

## 椤圭洰缁撴瀯

```
caseDemo1/
鈹溾攢鈹€ backend/                    # 鍚庣浠ｇ爜
鈹?  鈹溾攢鈹€ app/
鈹?  鈹?  鈹溾攢鈹€ api/               # API 璺敱
鈹?  鈹?  鈹?  鈹斺攢鈹€ v1/
鈹?  鈹?  鈹?      鈹斺攢鈹€ endpoints/ # API 绔偣
鈹?  鈹?  鈹溾攢鈹€ core/              # 鏍稿績閰嶇疆
鈹?  鈹?  鈹溾攢鈹€ db/                # 鏁版嵁搴撻厤缃?
鈹?  鈹?  鈹溾攢鈹€ models/            # 鏁版嵁妯″瀷
鈹?  鈹?  鈹溾攢鈹€ schemas/           # Pydantic Schemas
鈹?  鈹?  鈹斺攢鈹€ services/          # 涓氬姟鏈嶅姟
鈹?  鈹?      鈹溾攢鈹€ ai_service.py      # AI 鐢熸垚鏈嶅姟
鈹?  鈹?      鈹溾攢鈹€ document_parser.py # 鏂囨。瑙ｆ瀽
鈹?  鈹?      鈹溾攢鈹€ milvus_service.py  # 鍚戦噺鏁版嵁搴?
鈹?  鈹?      鈹斺攢鈹€ websocket_service.py # WebSocket
鈹?  鈹溾攢鈹€ main.py                # 搴旂敤鍏ュ彛
鈹?  鈹溾攢鈹€ requirements.txt       # Python 渚濊禆
鈹?  鈹斺攢鈹€ .env.example          # 鐜鍙橀噺妯℃澘
鈹溾攢鈹€ frontend/                  # 鍓嶇浠ｇ爜
鈹?  鈹溾攢鈹€ src/
鈹?  鈹?  鈹溾攢鈹€ components/       # React 缁勪欢
鈹?  鈹?  鈹溾攢鈹€ pages/            # 椤甸潰缁勪欢
鈹?  鈹?  鈹溾攢鈹€ services/         # API 鏈嶅姟
鈹?  鈹?  鈹斺攢鈹€ stores/           # 鐘舵€佺鐞?
鈹?  鈹溾攢鈹€ package.json          # Node 渚濊禆
鈹?  鈹斺攢鈹€ vite.config.ts        # Vite 閰嶇疆
鈹溾攢鈹€ bat/                       # 鎵瑰鐞嗚剼鏈?
鈹?  鈹溾攢鈹€ install-backend.bat   # 瀹夎鍚庣渚濊禆
鈹?  鈹溾攢鈹€ install-frontend.bat  # 瀹夎鍓嶇渚濊禆
鈹?  鈹溾攢鈹€ start-backend.bat     # 鍚姩鍚庣鏈嶅姟
鈹?  鈹溾攢鈹€ start-frontend.bat    # 鍚姩鍓嶇鏈嶅姟
鈹?  鈹溾攢鈹€ setup-env.bat         # 鐜閰嶇疆
鈹?  鈹溾攢鈹€ check-setup.bat       # 鐜妫€鏌?
鈹?  鈹溾攢鈹€ create-test-user.bat  # 鍒涘缓娴嬭瘯鐢ㄦ埛
鈹?  鈹溾攢鈹€ set-superuser.bat     # 璁剧疆瓒呯骇绠＄悊鍛?
鈹?  鈹斺攢鈹€ create-system-config-table.bat # 鍒涘缓閰嶇疆琛?
鈹?  鈹斺攢鈹€ create-test-point-history-table.bat # 璁板綍娴嬭瘯鐐规増鏈敤鍘嗙被
鈹溾攢鈹€ doc/                       # 椤圭洰鏂囨。
鈹?  鈹溾攢鈹€ QUICK_START.md        # 蹇€熷惎鍔ㄦ寚鍗?
鈹?  鈹溾攢鈹€ README_SETUP.md       # 璇︾粏瀹夎鎸囧崡
鈹?  鈹溾攢鈹€ ARCHITECTURE.md       # 绯荤粺鏋舵瀯鏂囨。
鈹?  鈹溾攢鈹€ PROJECT_OVERVIEW.md   # 椤圭洰鎬昏
鈹?  鈹溾攢鈹€ FEATURES.md           # 鍔熻兘璇存槑
鈹?  鈹溾攢鈹€ TROUBLESHOOTING.md    # 闂鎺掓煡鎸囧崡
鈹?  鈹溾攢鈹€ SYSTEM_CONFIG_GUIDE.md # 绯荤粺閰嶇疆鎸囧崡
鈹?  鈹溾攢鈹€ MIGRATION_GUIDE.md    # 杩佺Щ鎸囧崡
鈹?  鈹斺攢鈹€ PYTHON_313_COMPATIBILITY.md # Python 3.13 鍏煎鎬?
鈹溾攢鈹€ docker-compose.yml        # Docker 閰嶇疆
鈹斺攢鈹€ readme.md                 # 椤圭洰璇存槑锛堟湰鏂囦欢锛?
```

## 鏍稿績娴佺▼

### 娴嬭瘯鐐圭敓鎴愭祦绋?
1. 鐢ㄦ埛涓婁紶闇€姹傛枃妗?
2. 鍚庣瑙ｆ瀽鏂囨。鍐呭
3. LangGraph 宸ヤ綔娴佸惎鍔?
4. LangChain 璋冪敤 LLM 鍒嗘瀽闇€姹?
5. 璇嗗埆娴嬭瘯鐐瑰苟淇濆瓨鍒版暟鎹簱
6. WebSocket 閫氱煡鍓嶇鐢熸垚瀹屾垚

### 娴嬭瘯鐢ㄤ緥鐢熸垚娴佺▼
1. 鐢ㄦ埛閫夋嫨娴嬭瘯鐐?
2. 鐐瑰嚮"鐢熸垚鐢ㄤ緥"
3. 鍚庣鑾峰彇娴嬭瘯鐐瑰拰闇€姹備笂涓嬫枃
4. LangChain 璋冪敤 LLM 鐢熸垚娴嬭瘯鐢ㄤ緥
5. 淇濆瓨娴嬭瘯鐢ㄤ緥鍒版暟鎹簱
6. WebSocket 閫氱煡鍓嶇鐢熸垚瀹屾垚

## API 鏂囨。

鍚姩鍚庣鏈嶅姟鍚庯紝璁块棶锛?
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## 寮€鍙戣鏄?

### 鍚庣寮€鍙?
- 閬靛惊 FastAPI 鏈€浣冲疄璺?
- 浣跨敤 SQLAlchemy ORM
- 寮傛澶勭悊鑰楁椂浠诲姟
- WebSocket 瀹炴椂閫氱煡

### 鍓嶇寮€鍙?
- TypeScript 绫诲瀷瀹夊叏
- React Hooks
- Ant Design 缁勪欢
- Zustand 鐘舵€佺鐞?

## 甯歌闂

**Q: 濡備綍閰嶇疆 AI 妯″瀷锛?*
A: 鍦?`backend/.env` 鏂囦欢涓厤缃?`OPENAI_API_KEY`銆乣OPENAI_API_BASE` 鍜?`MODEL_NAME`銆?

**Q: 鏀寔鍝簺鏂囨。鏍煎紡锛?*
A: 鏀寔 DOCX銆丳DF銆乀XT銆乆LS銆乆LSX 鏍煎紡銆?

**Q: 濡備綍鏌ョ湅鐢熸垚杩涘害锛?*
A: 绯荤粺閫氳繃 WebSocket 瀹炴椂鎺ㄩ€佺敓鎴愯繘搴︼紝浼氬湪椤甸潰鍙充笂瑙掓樉绀洪€氱煡銆?

**Q: 鏁版嵁搴撹繛鎺ュけ璐ユ€庝箞鍔烇紵**
A: 纭繚 Docker 瀹瑰櫒姝ｅ湪杩愯锛歚docker-compose ps`

## 鏇存柊鏃ュ織

### v1.1.0 (2025-11-06)
- 馃殌 **LangChain 鍗囩骇**: 0.1.0 鈫?0.3.13
- 馃殌 **LangGraph 鍗囩骇**: 0.1.0 鈫?0.2.62
- 鉁?鏂板 OpenAI SDK 1.x 鏀寔
- 馃敡 API 鍙傛暟鏇存柊锛坅pi_key, base_url锛?
- 馃摎 瀹屽杽鐨勮縼绉绘枃妗?

璇﹁ [CHANGELOG.md](./CHANGELOG.md) 鍜?[MIGRATION_GUIDE.md](./MIGRATION_GUIDE.md)

### v1.0.0 (2025-11-05)
- 鉁?瀹屾暣鐨勫墠鍚庣瀹炵幇
- 鉁?AI 娴嬭瘯鐐硅瘑鍒?
- 鉁?AI 娴嬭瘯鐢ㄤ緥鐢熸垚
- 鉁?WebSocket 瀹炴椂閫氱煡
- 鉁?澶氭牸寮忔枃妗ｆ敮鎸?
- 鉁?鐢ㄦ埛璁よ瘉鍜屾巿鏉?
- 鉁?鏁版嵁缁熻鍜屽睍绀?

## 璁稿彲璇?

MIT License

## 鏂囨。瀵艰埅

### 馃摎 鏍稿績鏂囨。
- 馃摉 [README.md](./readme.md) - 椤圭洰璇存槑锛堟湰鏂囦欢锛?
- 馃殌 [QUICK_START.md](./doc/QUICK_START.md) - 5 鍒嗛挓蹇€熷惎鍔ㄦ寚鍗?
- 馃摎 [README_SETUP.md](./doc/README_SETUP.md) - 璇︾粏瀹夎鍜岄厤缃寚鍗?
- 馃彈锔?[ARCHITECTURE.md](./doc/ARCHITECTURE.md) - 绯荤粺鏋舵瀯鏂囨。
- 馃搵 [PROJECT_OVERVIEW.md](./doc/PROJECT_OVERVIEW.md) - 椤圭洰鎬昏鍜屾枃浠舵竻鍗?

### 馃敡 鍔熻兘鏂囨。
- 鉁?[FEATURES.md](./doc/FEATURES.md) - 鍔熻兘璇︾粏璇存槑
- 鈿欙笍 [SYSTEM_CONFIG_GUIDE.md](./doc/SYSTEM_CONFIG_GUIDE.md) - 绯荤粺閰嶇疆鎸囧崡
- 馃攧 [MIGRATION_GUIDE.md](./doc/MIGRATION_GUIDE.md) - 鐗堟湰杩佺Щ鎸囧崡

### 馃洜锔?闂鎺掓煡
- 馃攳 [TROUBLESHOOTING.md](./doc/TROUBLESHOOTING.md) - 甯歌闂鍜岃В鍐虫柟妗?
- 馃悕 [PYTHON_313_COMPATIBILITY.md](./doc/PYTHON_313_COMPATIBILITY.md) - Python 3.13 鍏煎鎬ц鏄?

### 馃殌 蹇嵎鑴氭湰
- 馃摝 [bat/install-backend.bat](./bat/install-backend.bat) - 瀹夎鍚庣渚濊禆
- 馃摝 [bat/install-frontend.bat](./bat/install-frontend.bat) - 瀹夎鍓嶇渚濊禆
- 鈻讹笍 [bat/start-backend.bat](./bat/start-backend.bat) - 鍚姩鍚庣鏈嶅姟
- 鈻讹笍 [bat/start-frontend.bat](./bat/start-frontend.bat) - 鍚姩鍓嶇鏈嶅姟
- 馃敡 [bat/setup-env.bat](./bat/setup-env.bat) - 鐜閰嶇疆
- 鉁?[bat/check-setup.bat](./bat/check-setup.bat) - 鐜妫€鏌?

## 鎶€鏈敮鎸?

- **蹇€熷紑濮?*: 鍙傝€?[QUICK_START.md](./doc/QUICK_START.md)
- **璇︾粏閰嶇疆**: 鍙傝€?[README_SETUP.md](./doc/README_SETUP.md)
- **鏋舵瀯璁捐**: 鍙傝€?[ARCHITECTURE.md](./doc/ARCHITECTURE.md)
- **椤圭洰缁撴瀯**: 鍙傝€?[PROJECT_OVERVIEW.md](./doc/PROJECT_OVERVIEW.md)
- **鍔熻兘璇存槑**: 鍙傝€?[FEATURES.md](./doc/FEATURES.md)
- **闂鎺掓煡**: 鍙傝€?[TROUBLESHOOTING.md](./doc/TROUBLESHOOTING.md)
