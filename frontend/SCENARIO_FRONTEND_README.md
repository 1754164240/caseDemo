# 场景管理模块 - 前端使用文档

## ✅ 已完成功能

### 1. API 服务层 (`src/services/api.ts`)
- ✅ 场景列表查询（支持分页和筛选）
- ✅ 场景详情查询
- ✅ 通过编号查询场景
- ✅ 创建场景
- ✅ 更新场景
- ✅ 删除场景
- ✅ 切换场景状态

### 2. 场景管理页面 (`src/pages/Scenarios.tsx`)
- ✅ 场景列表展示（表格形式）
- ✅ 多条件筛选（关键字、业务线、渠道、模块、状态）
- ✅ 创建场景（模态框）
- ✅ 编辑场景（模态框）
- ✅ 删除场景（带确认）
- ✅ 查看场景详情（侧边抽屉）
- ✅ 快速切换启用/停用状态（开关）
- ✅ 分页显示
- ✅ 响应式布局

### 3. 路由配置
- ✅ 路由路径：`/scenarios`
- ✅ 菜单图标：AppstoreOutlined
- ✅ 菜单名称：场景管理
- ✅ 菜单位置：测试用例管理和知识问答之间

## 🚀 快速开始

### 步骤 1: 启动前端（如果未启动）

```bash
cd D:\caseDemo1\frontend
npm run dev
```

### 步骤 2: 访问应用

打开浏览器访问：
```
http://localhost:5173
```

### 步骤 3: 登录系统

使用您的用户名和密码登录。

### 步骤 4: 进入场景管理

在左侧导航菜单中，点击 **"场景管理"** 菜单项（在"用例管理"和"知识问答"之间）。

## 📋 功能使用指南

### 1. 查看场景列表

进入场景管理页面后，会自动显示所有场景列表。

**表格列：**
- 场景编号
- 场景名称
- 描述
- 业务线（带颜色标签）
- 渠道
- 模块
- 状态（启用/停用开关）
- 创建时间
- 操作（详情、编辑、删除）

### 2. 搜索和筛选

**筛选条件：**
- 🔍 **关键字搜索**：搜索场景名称、编号、描述
- 📊 **业务线筛选**：契约/保全/理赔
- 🌐 **渠道筛选**：输入渠道名称
- 📦 **模块筛选**：输入模块名称
- 🔘 **状态筛选**：启用/停用

**示例：**
1. 在"关键字搜索"框输入"投保"
2. 选择业务线"契约"
3. 点击"重置"清除所有筛选条件

### 3. 创建场景

**步骤：**
1. 点击右上角的 **"新建场景"** 按钮
2. 填写表单：
   - **场景编号**（必填）：如 `SC-CONTRACT-001`
   - **场景名称**（必填）：如 `在线投保`
   - **场景描述**（可选）：详细描述场景
   - **业务线**（可选）：选择契约/保全/理赔
   - **渠道**（可选）：如 `移动端`
   - **模块**（可选）：如 `投保模块`
   - **状态**（可选）：启用/停用开关，默认启用
3. 点击 **"确定"** 保存

**场景编号命名建议：**
```
格式：SC-{业务线缩写}-{序号}

示例：
- SC-CONTRACT-001    (契约业务线)
- SC-PRESERVATION-001 (保全业务线)
- SC-CLAIM-001       (理赔业务线)
```

### 4. 编辑场景

**步骤：**
1. 找到要编辑的场景
2. 点击操作列的 **"编辑"** 按钮
3. 修改字段（所有字段都可修改）
4. 点击 **"确定"** 保存

**注意：** 
- 修改场景编号时，系统会自动检查新编号是否已被使用
- 如果编号重复，会提示错误信息

### 5. 查看场景详情

**步骤：**
1. 找到要查看的场景
2. 点击操作列的 **"详情"** 按钮
3. 在右侧抽屉中查看完整信息

**显示内容：**
- 场景编号
- 场景名称
- 场景描述
- 业务线（带颜色标签）
- 渠道
- 模块
- 状态
- 创建时间
- 更新时间

### 6. 快速切换状态

**方法 1：使用状态开关**
直接在表格的"状态"列点击开关即可切换启用/停用状态。

**方法 2：使用编辑功能**
进入编辑模式，修改状态开关。

### 7. 删除场景

**步骤：**
1. 找到要删除的场景
2. 点击操作列的 **"删除"** 按钮
3. 在确认对话框中点击 **"确定"**

**注意：** 删除操作不可恢复，请谨慎操作！

### 8. 分页浏览

表格底部提供分页功能：
- 可选择每页显示数量（10/20/50/100）
- 支持快速跳转到指定页
- 显示总记录数

## 🎨 界面特性

### 1. 业务线颜色标签

- **契约** (contract)：蓝色标签
- **保全** (preservation)：绿色标签
- **理赔** (claim)：橙色标签

### 2. 状态显示

- **启用**：绿色开关，可直接点击切换
- **停用**：灰色开关，可直接点击切换

### 3. 响应式设计

- 支持不同屏幕尺寸
- 表格可横向滚动（当列太多时）
- 筛选条件自动适应屏幕宽度

## 💡 使用技巧

### 1. 快速查找场景

使用关键字搜索功能，输入场景名称或编号的部分内容即可快速定位。

**示例：**
- 输入 "投保" 可找到所有包含"投保"的场景
- 输入 "SC-001" 可找到编号包含 "SC-001" 的场景

### 2. 按业务线管理

选择业务线筛选器，可以只显示特定业务线的场景，方便按业务线维护场景。

### 3. 批量查看相同渠道的场景

使用渠道筛选器，可以查看特定渠道（如"移动端"）的所有场景。

### 4. 管理停用的场景

选择状态筛选器为"停用"，可以查看所有已停用的场景，方便统一管理。

## ⚙️ 数据示例

### 契约业务线场景

```
场景编号：SC-CONTRACT-001
场景名称：在线投保
描述：用户通过移动端APP进行在线投保流程
业务线：契约
渠道：移动端
模块：投保模块
状态：启用
```

### 保全业务线场景

```
场景编号：SC-PRESERVATION-001
场景名称：保单变更
描述：客户通过线上渠道申请保单信息变更
业务线：保全
渠道：线上
模块：保全模块
状态：启用
```

### 理赔业务线场景

```
场景编号：SC-CLAIM-001
场景名称：理赔申请
描述：客户提交理赔申请并上传相关资料
业务线：理赔
渠道：移动端
模块：理赔模块
状态：启用
```

## 🔍 故障排查

### 问题 1: 创建场景时提示"场景编号已存在"

**原因：** 该场景编号已被其他场景使用

**解决方案：**
1. 修改场景编号
2. 或者编辑现有的场景而不是创建新场景

### 问题 2: 搜索不到场景

**可能原因：**
1. 筛选条件设置过于严格
2. 场景确实不存在

**解决方案：**
1. 点击"重置"按钮清除所有筛选条件
2. 重新设置筛选条件

### 问题 3: 删除场景失败

**可能原因：**
1. 网络连接问题
2. 权限不足

**解决方案：**
1. 检查网络连接
2. 联系管理员检查权限

### 问题 4: 表格显示不完整

**原因：** 屏幕宽度不够

**解决方案：**
- 表格支持横向滚动，可以左右滑动查看所有列
- 或使用更大的屏幕

## 📱 移动端适配

虽然主要为桌面端设计，但也考虑了移动端的使用：

- 筛选条件自动换行排列
- 表格可横向滚动
- 操作按钮响应触摸事件

## 🎯 最佳实践

### 1. 场景编号规范

建议统一使用以下格式：
```
SC-{业务线缩写}-{序号}
```

**好的示例：**
- `SC-CONTRACT-001`
- `SC-PRESERVATION-002`
- `SC-CLAIM-003`

**不推荐：**
- `SCENE1`（不明确）
- `场景001`（使用中文）
- `contract001`（缺少前缀）

### 2. 场景命名

- 使用清晰、简洁的名称
- 避免过长的名称（建议不超过20个字符）
- 使用业务术语

### 3. 描述填写

- 详细描述场景的具体内容
- 包含关键的业务流程信息
- 便于后续查找和理解

### 4. 及时维护

- 定期清理不再使用的场景
- 将不再使用但需要保留的场景设为停用状态
- 及时更新场景信息

## 🔄 版本信息

- **前端版本**：v0.5.0
- **功能状态**：✅ 已完成，可投入使用
- **最后更新**：2024年

## 📞 需要帮助？

如有问题或需要帮助，请联系：
- 查看后端 API 文档：`backend/SCENARIO_MODULE_README.md`
- 查看部署指南：`backend/DEPLOY_SCENARIO.md`
- 查看开发总结：`backend/SCENARIO_MODULE_SUMMARY.md`

---

**祝使用愉快！** 🎉

